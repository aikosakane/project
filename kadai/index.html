<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TODOリスト</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>

<body>
<header>
<h1>TODOリスト</h1>
</header>

<main>
    <div class="todoCreation">
            <!-- <input type="text" id="category"> -->
            <textarea id="inputTodo" placeholder=" 課題提出する"></textarea>
            <!-- <select id="month"></select> -->
            <!-- <select id="day"></select> -->
            <ul>
                <li id="save">タスク追加</li>
                <li id="clear">全タスク削除</li>
            </ul>
    </div>

</main>
    <div class="list">
        <table id="list">
        <!-- <button id="done">完了 -->
        <!-- ここに追加データが挿入される -->
        </table>
    </div>

<script>
//月:1~12
// let monthHTML = '';
// for(let i =1; i<13; i++){
//     monthHTML += `<option value="${i}">${i}</option>`;
// }
// $('#month').html(monthHTML);

//日:1~31
// let dayHTML = '';
// for(let i =1; i<32; i++){
//     dayHTML += `<option value="${i}">${i}</option>`;
// }
// $('#day').html(dayHTML);

//1.Save クリックイベント
$("#save").on('click', function(){
    const category = $("#category").val();        // input要素の中身を取得したい時、valを使用（Jquery）
    const inputTodo = $('#inputTodo').val();
    localStorage.setItem(category, inputTodo);
    // HTMLに出力
    // const HTML = `<tr><th>${category}</th><td>${inputTodo}</td></tr>`;      // HTMLを出力するので定数HTMLと定義
    const HTML = `<tr><th>${inputTodo}</th><td><button id="done">完了</button></td></tr>`;
    $("#list").append(HTML);    // appendは追加という意味
});

// タスクの完了が押されたらレコードを消す - なぜ昨日しない？
$('#done').on('click', function(){
    localStorage.removeItem(category);
    $("#list").empty();
});

// 2.clear クリックイベント
$("#clear").on("click", function(){
    localStorage.clear();       //ローカルストレージ上から消す=clear
    $("#list").empty();         //html上で空にする=empty
})

//3.ページ読み込み：保存データ取得表示
// for(let i = 0; i < localStorage.length; i++){   //local starageの長さに至るまでぐるぐる回す
//     const key = localStorage.key(i);            //キーの数を取得する
//     const value = localStorage.getItem(key);    //キーの番号を取得して、その値を取ってくる
//     const html = `<tr><th>${key}</th><td>${value}</td></tr>`;
//     $("#list").append(html);                    //html上のlistに追加する
// }

</script>
<footer><small></small></footer>
</body>
</html>